# 3rd CSS CONF CHINA

## 14 Things I Didnâ€™t Know About CSS

by Mathias Bynens

åŸºæœ¬ä¸Šæ˜¯å…³äº CSS çš„ä¸€äº›å†·çŸ¥è¯†å’Œé»‘é­”æ³•ã€‚

é¡ºå¸¦å¤šè®²ä¸€å¥å…³äºæ¼”è®²è€…çš„èƒŒæ™¯ -- ä¸€å¼€å§‹çœ‹åˆ° Mathias Bynens çš„åå­—å°±è§‰å¾—ä¼¼ä¹æœ‰äº›å°è±¡ï¼Œåæ¥å›å»ä¸€æŸ¥å‘ç°æ˜¯ benchmark.js çš„ collaboratorï¼Œè€Œä¸”æˆ‘è¿˜åœ¨ç ”ç©¶ç”Ÿçš„æ¯•ä¸šè®ºæ–‡é‡Œ ~~å¤§é‡å‚è€ƒ~~ å¼•ç”¨äº†ä»–çš„å…³äº JS benchmarking çš„è®ºè¿°...å½“ç„¶é¡ºå¸¦è¿˜å‘ç°äº†ä»–ä¸€ç›´åœ¨è‡´åŠ›äº CSS å’Œ HTML ç­‰æ ‡å‡†çš„ç ”ç©¶å’Œæ¨å¹¿ï¼Œä»¥åŠç»™å„ç§å¼€æºé¡¹ç›®ï¼ˆBabel, React, ..ï¼‰åš commit. ç®—æ˜¯æœ¬æ¬¡å¤§ä¼šæœ€å¤§ç‰Œçš„æ¼”è®²è€…äº†ï¼ˆå½“ç„¶è®ºåœ¨å›½å†…çš„å½±å“åŠ›å¯èƒ½åé¢çš„å¤§æ¼ å’Œå‹¾ä¸‰è‚¡å››ä¼šæ›´åŠ æœ‰å½±å“åŠ›ä¸€äº›ï¼‰

* [You Might Not Need Javascript](http://youmightnotneedjs.com/)
* [HTML Kong](http://www.xn--8ws00zhy3a.com/blog/2016/07/html-kong)
* use pseudo class like `:checked` to control UI state
* HTML tags are codes snippets which has an open tag (with a close tag)
* HTML elements are the atomic units in DOM which could be operated by Javascipt and styled by CSS.
* The browser would automatically generate `<html>` `<body>` `<head>` if missing
* [nojs](https://github.com/oskargustafsson/nojs): a pure CSS approach to HTML form elements, including some "Javascript effects" like accordion, dropdown and tooltip.
* You could apply `link` field in HTTP header to introduce CSS file ( only in FF and old version of Opera )
* CSS Zen Garden

### Unicode CSS

You could actually use emojis as `id` or `class` in HTML tags. And there are also some shitty examples of `id` or `class` values like:

* `#id`
* `ğŸ’©`
* `404-error`

You need to be VERY careful when using the above values as `id` or `class`, and use **CSS escape** when using CSS selectors to style or operate these elements.

check [this article](https://mathiasbynens.be/notes/css-escapes) for more details.

### some evil CSS

* [evil.css](https://github.com/tlrobinson/evil.css/) some annoying css rules ;) ï¼ˆæ„Ÿå…´è¶£çš„å¯ä»¥é¡ºä¾¿çœ‹ä¸‹ [evil.js](https://github.com/kitcambridge/evil.js/) å’Œ [evil.sh](https://github.com/mathiasbynens/evil.sh)
* [XSS Game](https://xss-game.appspot.com/level1) - å¯èƒ½ä¸å®Œå…¨æ˜¯ CSS çš„å†…å®¹ä½†è¿™ä¸ªè¿˜æ˜¯å€¼å¾—ä¸€çœ‹
* Use href match selector `[href^="a"]` and `background-image: url()` rules to query your evil server, which could possiblity leak some informations in href (like first letter). If you are able to insert so many CSS rules you could even get the whole `href` value by bruteforce.
* use CSS expressions in IE<=7: `width: expression(alert('holy shoot'))`
* for IE > 7, use these declaration to pull the page back to IE7 mode: `<meta http-equiv=â€œX-UA-Compatibleâ€ content=â€œIE=7â€>`
* use `<!doctype html>` to prevent the above possible hack/cheat
* in FF you may even `background-image: url('javacript:...')`


## CSS Grid Layout

by å¤§æ¼  from Alibaba

### The OLD Grid Layout
* 12 columns
* Non-fluid 960
* Fluid

### The "CSS Grid Layout"

* Box Alignment ?
* `display: grid`
* Track
* Cell

```css
display: grid;

grid-template-columns: 33.33% 33.33% 33.33%;
grid-template-columns: 1fr 1fr 1fr;
grid-template-columns: 500px 1fr 2fr;
grid-template-columns: repeat(1fr);
grid-template-columns: repeat(auto-fill, 200px);
grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));

grid-template-rows: 200px 200px 200px;
grid-auto-rows: 200px;

grid-column-start: 2;
grid-column-end: 4;
grid-row-start: 1;
grid-row-end: 3;

grid-column: 2 / 4;
grid-row: 1 / 3;

grid-area: 1 / 2 / 3 / 4;


grid-gap: 20px;
grid-area: ...
grid-alignment: ...

/* ç½‘æ ¼çº¿å‘½å */
.cards {
    display: grid;
}

```

## Sass & CSS Design Pattern

by å»–æ´§æ°

å˜¿ï¼Œä¼¼ä¹ä¸æ­¢ Sass å™¢ï¼

1. config
    * variables
    * path
    * gulp/webpack...
2. tools [!]
    * Mixins
    * Function
    * Helper
3. browser
    * reset
    * print
4. base
    * rebot
        * reset åç´§æ¥
        * è®¾å®šå…¨åŸŸç½‘é¡µæ ‡ç­¾
        * å‡è½»å„ç±»è®¾å®šè´Ÿæ‹…
        * FE å’Œ UI å…±åŒè®¨è®º
    * type
        * Boostrap type
        * è®¾å®šå…¨åŸŸæ ‡é¢˜
        * å†™æ­»å­—å‹å¤§å°åŠ¡å¿…ä¸è®¾è®¡å¸ˆç¡®è®¤
5. elements & components [!]
6. vendors
    * jQuery plugin
    * inbox

### é è°±è®¾è®¡å¸ˆåº”è€ƒè™‘ç»†èŠ‚

* Responsive å¤šè¥å¸ƒå±€
* å›¾ç‰‡æ ¼å¼
* çŠ¶æ€ hover focus
* é¡µé¢å›é¦ˆ error onlineï¼ˆé¡µé¢é”™è¯¯äº†æ€ä¹ˆåŠï¼‰
* å…ƒç´ åŠ¨ç”»é€Ÿç‡
* web UI ç§ç±»

**component** åœ¨ä¸åŒé¡µé¢ä¸Šçš„ä¸€è‡´æ€§ï¼ˆmargin / padding / borderï¼‰

#### tools

* Sketch
* Zeplin

### Sass Patterns

#### Pattern A: åå·¥ç¨‹ç±»çš„

**layout**, **components**, **page**

`.clearfix` - åŠŸèƒ½æ€§çš„ class
`.ui-pagination` - component (å…¬ç”¨çš„)
`.txt__block--active` - page, BEM

#### Pattern B: å·¥ç¨‹è®¾è®¡å…¼å¤‡

**å®¹å™¨**, **å…ƒä»¶**

##### å…ƒä»¶æ€§å¼€å‘

æ‰€æœ‰å†…å®¹éƒ½æ˜¯ components

#### Pattern C: å›¢é˜Ÿæ€§å¼€å‘

* F2E TL, Art TL å…±åŒåˆ¶è®¢è§„èŒƒ
* ä¸¥è°¨å‰ç¼€ & Guideline
* BEM ä¸ºæ ¸å¿ƒ
* å°½é‡ **å…ƒä»¶æ€§å¼€å‘**

e.g:

- `l` - layout
- `ui` - components
- `is` - status
- `p` - page

----

## use SVG in production

### Previous solution

* png8 => png24
* webp (å…¼å®¹é—®é¢˜)
* iconfont

### SVG adv.

* 1600ä¸‡è‰²
* ä»»ä½•ç¼©æ”¾
* åªæœ‰ png çš„ 1/5
* å¾ˆä¼šåŠ¨
* æ ‡å‡†åŒ–é«˜ï¼ˆIE 9+, and allï¼‰
* å…¼å®¹æ€§åªéœ€è¦æ³¨æ„ vbox å—¯å“¼

### why the fuck we don't use it before

* SVG å’Œ HTML æ¦‚å¿µä¸åŒ
* PS cc ä¹‹å‰ä¸æ”¯æŒå¯¼å‡º
* ä¸èƒ½ç›´æ¥ç”¨??? wtf...

### Intro

* viewBox
* `<rect>`, `<circle>`, `<polygon>`, `<path>`, `<textpath>`
* `<defs>`, `<pattern>`
* `<filter>` -- SVG Filter
* "Special Attribute"

### æœ€ä½³åœºæ™¯

icon! icon!

### Better choice

Sketch!!

### Optimization

* SVGO
* å»æ‰å¤šä½™æ ‡ç­¾å’Œ class
* æ•°å€¼æ¢ç®—ä¸º 16è¿›åˆ¶ å‡å°ç²¾åº¦
* å‹ç¼©...
* ä¼˜é›…é™çº§ (check below)
* ä½“ç§¯å¤§å¹…åº¦ä¸‹é™
* å‰¯ä½œç”¨æå°: 0.2s çš„é‡ç»˜(ä¸¤ç™¾å¤šä¸ª icon åŒæ—¶)

```css
.svg {
    background-image: url('..xx.png');
    background-image: url('..xx.svg'), none;
}
```

### è½®å­ï¼ˆä»Šæ—¥æœ€ä½³ï¼‰

* tmt-workflow
* weflow - å’Œ legoflow å¥½åƒå•Šï¼ï¼ï¼ï¼
* iconfont.cn
* FLATICON å§æ§½ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼å¨æ­¦å•Š...

### TODO
    * å­¦ä¹  png8, png24, webp
    * ä½å›¾ vs çŸ¢é‡å›¾

----

## More than vectors - The Possibilities of SVG Animation

by æ–¹æ½‡ä»ª from Wechat

Animation types: **CSS** **Canvas** **SVG**

Key: çªç ´ç›’å­æ¨¡å‹

SVG åŠ¨ç”»åŸºæœ¬æ€è·¯ï¼šæ§åˆ¶ svg çš„ special attributes å®ç°åŠ¨ç”»

using css animation/transition æˆ–è€… JS å»ä¿®æ”¹å±æ€§å°±å¯ä»¥äº†

æµç¨‹ï¼š

* è½¬æ¢
* è®¡ç®—

### è„‘æ´

* å­—ä½“å˜åŒ–
* Morphingï¼ˆå½¢æ€å˜åŒ–ï¼‰

### Tools

* Snap.svg
* GreenSock MorphSVGPlugin (non-free)
* SVG-Morpheus

Super Cooooooooooooooool !!!!!!

----

## è°ˆè°ˆç½‘é¡µä¸­çš„ "ä¿¡æ¯"

by å€ªæ ©ç”Ÿ from @x Wechat

* ä¿¡æ¯ä¸ç½‘é¡µçš„å…³ç³»
* ç½‘é¡µçš„ç‰¹å¾
* ä¿¡æ¯åœ¨ç½‘é¡µä¸­çš„å½¢æ€

### ä¿¡æ¯ä¸ç½‘é¡µçš„å…³ç³»

ä¿¡æ¯ä¸ä¿¡æ¯ä¹‹é—´å½¢æˆä¸Šä¸‹æ–‡
ç½‘é¡µæ˜¯ä¿¡æ¯ä¸Šä¸‹æ–‡çš„æƒ…æ™¯é‡ç°
ä¾‹å­ï¼šå¾®ä¿¡çº¢åŒ…

### ç½‘é¡µçš„ç‰¹å¾

* è·¨å¹³å°
* å¯è®¿é—®
* å¯ç”¨

#### è·¨å¹³å°

mobile / PC / Mac / Watch / EBook

#### å¯è®¿é—®

e.g: VoiceOver

#### å¯ç”¨

è€ƒè™‘ä¸åŒçŠ¶æ€ä¸‹çš„åŒºåˆ†åº¦

### ä¿¡æ¯åœ¨ç½‘é¡µä¸­çš„å½¢æ€

* æ„è¯†å½¢æ€: **å…ƒä¿¡æ¯** ç»„æˆçš„ä¸Šä¸‹æ–‡
* å®ä½“å½¢æ€: **æ ‡è®°** ç»„æˆçš„ä¸Šä¸‹æ–‡ï¼›ä¸€ä¸ªä¿¡æ¯æœ‰å¤šç§å®ä½“å½¢æ€
* è¡¨ç°å½¢æ€: ä¸€ä¸ªä¿¡æ¯æœ‰ **å¤šç§** è¡¨ç°å½¢æ€ï¼›æ¯ç§è¡¨ç°å½¢æ€å¯ä»¥å¯¹åº” **å¤šä¸ª** æ ·å¼ä¸Šä¸‹æ–‡

`<b>` å…³é”®è¯
`<i>` ä¸åŒè¯­æ°” éšå¼å¼ºè°ƒ
`<strong>` åŠ é‡å¼ºè°ƒ
`<em>` ä¾§é‡å†…å®¹å¾ˆå¯èƒ½æ”¹å˜

### WeUI èƒŒåçš„æ€è€ƒ

å¯¹ç½‘é¡µæŠ½è±¡åŒ–çš„æ€è€ƒ -- ç†è®ºåŸºç¡€
